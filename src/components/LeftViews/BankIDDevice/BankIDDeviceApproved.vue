<template>
<div class=" bg-views p-4 rounded-4 mb-3">

    <img :src="AMVLogo" class="logo-top" />

    <h2>{{ t('loginWithBankID') }}</h2>
    <p>{{ t('SecurityCodeApproved') }}</p>

    <div class="waiting-box">
      <p>{{ t('waitingForBankID') }}</p>
    </div>

    <!-- Success icon -->
    <div class="d-flex flex-column justify-content-center align-items-center text-center mt-4 mb-4">
          
        <svg class="mb-3" width="115" height="101" viewBox="0 0 115 101" fill="none" xmlns="http://www.w3.org/2000/svg">
        <mask id="mask0_117_161" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="115" height="101">
        <rect width="115" height="101" fill="#D9D9D9"/>
        </mask>
        <g mask="url(#mask0_117_161)">
        <path d="M73.0558 14.7602C71.7094 14.7602 70.5769 14.2954 69.6585 13.3658C68.7401 12.4363 68.2809 11.2982 68.2809 9.95177C68.2809 8.60532 68.7457 7.47289 69.6753 6.55448C70.6049 5.63608 71.7429 5.17688 73.0894 5.17688C74.4358 5.17688 75.5682 5.64167 76.4866 6.57126C77.4051 7.50084 77.8643 8.63886 77.8643 9.98532C77.8643 11.3318 77.3995 12.4642 76.4699 13.3826C75.5403 14.301 74.4023 14.7602 73.0558 14.7602ZM73.0558 93.8227C71.7094 93.8227 70.5769 93.3579 69.6585 92.4283C68.7401 91.4988 68.2809 90.3607 68.2809 89.0143C68.2809 87.6678 68.7457 86.5354 69.6753 85.617C70.6049 84.6986 71.7429 84.2394 73.0894 84.2394C74.4358 84.2394 75.5682 84.7042 76.4866 85.6338C77.4051 86.5633 77.8643 87.7014 77.8643 89.0478C77.8643 90.3943 77.3995 91.5267 76.4699 92.4451C75.5403 93.3635 74.4023 93.8227 73.0558 93.8227ZM92.2225 31.531C90.876 31.531 89.7436 31.0663 88.8252 30.1367C87.9068 29.2071 87.4476 28.0691 87.4476 26.7226C87.4476 25.3761 87.9124 24.2437 88.842 23.3253C89.7715 22.4069 90.9096 21.9477 92.256 21.9477C93.6025 21.9477 94.7349 22.4125 95.6533 23.3421C96.5717 24.2717 97.0309 25.4097 97.0309 26.7562C97.0309 28.1026 96.5661 29.235 95.6365 30.1534C94.707 31.0718 93.5689 31.531 92.2225 31.531ZM92.2225 77.0519C90.876 77.0519 89.7436 76.5871 88.8252 75.6575C87.9068 74.7279 87.4476 73.5899 87.4476 72.2434C87.4476 70.897 87.9124 69.7645 88.842 68.8461C89.7715 67.9277 90.9096 67.4685 92.256 67.4685C93.6025 67.4685 94.7349 67.9333 95.6533 68.8629C96.5717 69.7925 97.0309 70.9305 97.0309 72.277C97.0309 73.6234 96.5661 74.7559 95.6365 75.6743C94.707 76.5927 93.5689 77.0519 92.2225 77.0519ZM99.41 54.2915C98.0635 54.2915 96.9311 53.8267 96.0127 52.8971C95.0943 51.9675 94.6351 50.8295 94.6351 49.483C94.6351 48.1366 95.0999 47.0041 96.0295 46.0857C96.959 45.1673 98.0971 44.7081 99.4435 44.7081C100.79 44.7081 101.922 45.1729 102.841 46.1025C103.759 47.0321 104.218 48.1701 104.218 49.5166C104.218 50.863 103.754 51.9955 102.824 52.9139C101.894 53.8323 100.756 54.2915 99.41 54.2915ZM57.4997 97.4165C50.8712 97.4165 44.642 96.1586 38.8122 93.643C32.9823 91.1274 27.9111 87.7133 23.5986 83.4008C19.2861 79.0883 15.8721 74.0172 13.3564 68.1873C10.8408 62.3574 9.58301 56.1283 9.58301 49.4998C9.58301 42.8713 10.8408 36.6422 13.3564 30.8123C15.8721 24.9824 19.2861 19.9113 23.5986 15.5988C27.9111 11.2863 32.9823 7.87219 38.8122 5.35657C44.642 2.84094 50.8712 1.58313 57.4997 1.58313V8.77063C46.1594 8.77063 36.5361 12.7162 28.6299 20.6072C20.7236 28.4983 16.7705 38.1292 16.7705 49.4998C16.7705 60.8696 20.716 70.5005 28.6071 78.3923C36.499 86.2834 46.1298 90.229 57.4997 90.229V97.4165Z" fill="#1C1B1F"/>
        </g>
        <mask id="mask1_117_161" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="30" y="22" width="57" height="57">
        <rect x="30" y="22" width="57" height="57" fill="#D9D9D9"/>
        </mask>
        <g mask="url(#mask1_117_161)">
        <path d="M52.6807 66.6497L37.2432 51.2122L42.5869 45.8685L52.6807 55.9622L74.4119 34.231L79.7557 39.5747L52.6807 66.6497Z" fill="#7B9B3F"/>
        </g>
        </svg>

      
    
<!-- Step indicator with Bootstrap icons, using text-success for active step and text-secondary for inactive steps. -->
      <svg class="d-none d-md-block" width="78" height="25" viewBox="0 0 78 25" fill="none" xmlns="http://www.w3.org/2000/svg">
      <circle cx="65.5002" cy="12.1296" r="12.1296" fill="#7B9B3F"/>
      <path d="M69.342 16.9111H62.65C62.6593 16.0991 62.8553 15.3898 63.238 14.7831C63.6207 14.1765 64.1433 13.6491 64.806 13.2011C65.1233 12.9678 65.4547 12.7438 65.8 12.5291C66.1453 12.3051 66.4627 12.0671 66.752 11.8151C67.0413 11.5631 67.2793 11.2925 67.466 11.0031C67.6527 10.7045 67.7507 10.3638 67.76 9.98113C67.76 9.8038 67.7367 9.61713 67.69 9.42113C67.6527 9.2158 67.5733 9.02913 67.452 8.86113C67.3307 8.6838 67.1627 8.53913 66.948 8.42713C66.7333 8.3058 66.4533 8.24513 66.108 8.24513C65.7907 8.24513 65.5247 8.31047 65.31 8.44113C65.1047 8.56247 64.9367 8.73513 64.806 8.95913C64.6847 9.1738 64.5913 9.43047 64.526 9.72913C64.47 10.0278 64.4373 10.3498 64.428 10.6951H62.832C62.832 10.1538 62.902 9.65447 63.042 9.19713C63.1913 8.73047 63.4107 8.32913 63.7 7.99313C63.9893 7.65713 64.3393 7.3958 64.75 7.20913C65.17 7.01313 65.6553 6.91513 66.206 6.91513C66.8033 6.91513 67.3027 7.01313 67.704 7.20913C68.1053 7.40513 68.4273 7.65247 68.67 7.95113C68.922 8.2498 69.0993 8.57647 69.202 8.93113C69.3047 9.27647 69.356 9.6078 69.356 9.92513C69.356 10.3171 69.2953 10.6718 69.174 10.9891C69.0527 11.3065 68.8893 11.6005 68.684 11.8711C68.4787 12.1325 68.2453 12.3751 67.984 12.5991C67.7227 12.8231 67.452 13.0331 67.172 13.2291C66.892 13.4251 66.612 13.6118 66.332 13.7891C66.052 13.9665 65.7907 14.1438 65.548 14.3211C65.3147 14.4985 65.1093 14.6851 64.932 14.8811C64.7547 15.0678 64.6333 15.2685 64.568 15.4831H69.342V16.9111Z" fill="white"/>
      <mask id="mask0_432_2159" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="30" y="3" width="18" height="19">
      <rect x="47.5479" y="3.86694" width="17.4667" height="17.4667" transform="rotate(89.7856 47.5479 3.86694)" fill="#D9D9D9"/>
      </mask>
      <g mask="url(#mask0_432_2159)">
      <path d="M43.3386 11.8885L39.9965 8.55323L41.0115 7.53054L46.125 12.6059L41.0497 17.7194L40.0088 16.7044L43.344 13.3441L38.1222 13.3636L38.1168 11.9081L43.3386 11.8885ZM34.4779 11.9217L36.6613 11.9135L36.6667 13.3691L34.4834 13.3772L34.4779 11.9217ZM31.5668 11.9326L33.0224 11.9271L33.0278 13.3827L31.5723 13.3881L31.5668 11.9326Z" fill="#918D8D"/>
      </g>
      <circle cx="12.1296" cy="12.1296" r="12.1296" fill="#ADB2A3"/>
      <path d="M9.4754 8.73513C9.8114 8.73513 10.1381 8.70713 10.4554 8.65113C10.7727 8.59513 11.0574 8.5018 11.3094 8.37113C11.5707 8.24047 11.7901 8.07247 11.9674 7.86713C12.1541 7.6618 12.2754 7.4098 12.3314 7.11113H13.6334V16.9111H11.8834V9.99513H9.4754V8.73513Z" fill="#E0E0E0"/>
      </svg>

<a href="#" @click.prevent="changeToLogin">
            {{ t('cancel') }}
          </a>
    </div>
    

<!-- Tillfällig knapp för test -->
    <button
     @click="simulateSuccess"
      class="btn-temp"
    >
      Simulera lyckad inloggning
    </button>

  </div>
</template>

<script setup lang="ts">
import { useI18n } from '../../../i18n/useI18n'
import AMVLogo from '../../../assets/logo_horizontal.svg'

const { t } = useI18n()

const emit = defineEmits<{
  (e: 'change-view', view: string): void}>()

  const changeToLogin = () => {
    emit('change-view', 'login')
  }
  const simulateSuccess = () => {
    emit('change-view', 'mobilebankidapproved')
  }
  </script>
